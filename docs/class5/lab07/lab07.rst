Ticket 07 – Investigating unexpected 4xx responses
=================================================

Title: “Why is accounts_receivable returning 4xx errors?”
---------------------------------------------------------

Ticket Description
~~~~~~~~~~~~~~~~~~

  Users of the accounts receivable application are intermittently
  receiving HTTP 4xx errors when accessing the service. Some users
  report seeing 400, 401, 403, or 404 responses at different times.

  You have been asked to investigate why the
  accounts_receivable_https_vs virtual server is returning these 4xx
  status codes and to determine whether this behavior is expected for
  the lab scenario.

Context
~~~~~~~

  Device Name: Eastregion-bigip-01

  Virtual server: accounts_receivable_https_vs

  Pool: app-3

  Behavior:

  - Traffic that hits any pool member listening on port 8080 will
    generate an HTTP 403 error.
  - Traffic that hits the paths /401, /403, /404, or /400 will return
    the corresponding 4xx status code to the client.
  - A traffic script is rotating through those paths to generate a
    variety of 4xx responses.

Tasks
~~~~~

  Use the AI Assistant and enter the prompt:
  "Show configuration details for the accounts_receivable_https_vs virtual server on the Eastregion-bigip-01, including its default pool and any attached profiles or iRules."

  From the returned information and the TMUI on Eastregion-bigip-01:

  - Confirm that the default pool for accounts_receivable_https_vs is
    app-3.
  - Identify which port(s) the app-3 pool members are listening on
    (for example, 8080).
  - Check whether any iRules, local traffic policies, or WAF policies
    attached to the virtual server could influence HTTP status codes.

  In Insight, review any available HTTP metrics or logs associated with
  accounts_receivable_https_vs and app-3 that show:

  - The distribution of 4xx status codes (400, 401, 403, 404).
  - Whether certain paths (for example, /401, /403, /404, /400) are
    consistently associated with specific 4xx responses.
  - Whether requests to the pool members on port 8080 are returning
    403 by design.

  Based on this information, determine:

  - Which 4xx responses are expected behavior due to the backend
    configuration and the traffic script rotating through specific
    paths.
  - Whether any 4xx responses indicate a real problem, or whether they
    are intentionally generated for this lab exercise.

Deliverables
~~~~~~~~~~~~

  A brief summary describing:

  - How the accounts_receivable_https_vs virtual server and app-3 pool
    are configured to return 4xx responses.
  - Which 4xx codes and paths are intentionally generated by the
    backend (for example, /401 → 401, /403 → 403, /404 → 404, /400 → 400,
    and 403 for port 8080).
  - Your conclusion on whether the observed 4xx errors for this ticket
    are expected (lab-driven) or indicative of a misconfiguration.

Hints
~~~~~

  Pay attention to how the application or backend service running on
  port 8080 is configured to respond to different paths — it may be
  designed to return specific 4xx codes for certain URLs.

  If a traffic script is rotating through /401, /403, /404, and /400,
  seeing a mix of those 4xx codes in the logs is likely expected
  behavior, not necessarily an error.

  Distinguishing between “expected 4xx for this lab” and “unexpected
  4xx” is an important troubleshooting skill when working with BIG-IP
  and backend applications.


This concludes Ticket 07.

---

Go to `Ticket 08 - Identifying orphaned objects <../lab8/lab8.html>`_

Go to `Overview <../overview.html>`_